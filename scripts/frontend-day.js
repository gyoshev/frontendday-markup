/* Tweet! ; GitHub: http://github.com/seaofclouds/tweet/ ; License: MIT */
(function($){$.fn.tweet=function(a){function e(){var a="https:"==document.location.protocol?"https:":"http:";if(b.list)return a+"//"+b.twitter_api_url+"/1/"+b.username[0]+"/lists/"+b.list+"/statuses.json?per_page="+b.count+"&callback=?";if(b.query==null&&b.username.length==1)return a+"//"+b.twitter_api_url+"/1/statuses/user_timeline.json?screen_name="+b.username[0]+"&count="+b.count+"&include_rts=1&callback=?";var c=b.query||"from:"+b.username.join(" OR from:");return a+"//"+b.twitter_search_url+"/search.json?&q="+encodeURIComponent(c)+"&rpp="+b.count+"&callback=?"}function d(a){var b=c(a),d=arguments.length>1?arguments[1]:new Date,e=parseInt((d.getTime()-b)/1e3),f="";e<60?f=e+" seconds ago":e<120?f="a minute ago":e<2700?f=parseInt(e/60,10).toString()+" minutes ago":e<7200?f="an hour ago":e<86400?f=""+parseInt(e/3600,10).toString()+" hours ago":e<172800?f="a day ago":f=parseInt(e/86400,10).toString()+" days ago";return"about "+f}function c(a){return Date.parse(a.replace(/^([a-z]{3})( [a-z]{3} \d\d?)(.*)( \d{4})$/i,"$1,$2$4$3"))}var b={username:["seaofclouds"],list:null,avatar_size:null,count:3,intro_text:null,outro_text:null,join_text:null,auto_join_text_default:"i said,",auto_join_text_ed:"i",auto_join_text_ing:"i am",auto_join_text_reply:"i replied to",auto_join_text_url:"i was looking at",loading_text:null,query:null,refresh_interval:null,twitter_url:"twitter.com",twitter_api_url:"api.twitter.com",twitter_search_url:"search.twitter.com",template:function(a){return a.avatar+a.time+a.join+a.text}};a&&$.extend(b,a),$.fn.extend({linkUrl:function(){var a=[],b=/\b((?:[a-z][\w-]+:(?:\/{1,3}|[a-z0-9%])|www\d{0,3}[.]|[a-z0-9.\-]+[.][a-z]{2,4}\/)(?:[^\s()<>]+|\(([^\s()<>]+|(\([^\s()<>]+\)))*\))+(?:\(([^\s()<>]+|(\([^\s()<>]+\)))*\)|[^\s`!()\[\]{};:'".,<>?«»“”‘’]))/gi;this.each(function(){a.push(this.replace(b,function(a){var b=/^[a-z]+:/i.test(a)?a:"http://"+a;return'<a href="'+b+'">'+a+"</a>"}))});return $(a)},linkUser:function(){var a=[],c=/[\@]+([A-Za-z0-9-_]+)/gi;this.each(function(){a.push(this.replace(c,'<a href="http://'+b.twitter_url+'/$1">@$1</a>'))});return $(a)},linkHash:function(){var a=[],c=/(?:^| )[\#]+([A-Za-z0-9-_]+)/gi;this.each(function(){a.push(this.replace(c,' <a href="http://'+b.twitter_search_url+"/search?q=&tag=$1&lang=all&from="+b.username.join("%2BOR%2B")+'">#$1</a>'))});return $(a)},capAwesome:function(){var a=[];this.each(function(){a.push(this.replace(/\b(awesome)\b/gi,'<span class="awesome">$1</span>'))});return $(a)},capEpic:function(){var a=[];this.each(function(){a.push(this.replace(/\b(epic)\b/gi,'<span class="epic">$1</span>'))});return $(a)},makeHeart:function(){var a=[];this.each(function(){a.push(this.replace(/(&lt;)+[3]/gi,"<tt class='heart'>&#x2665;</tt>"))});return $(a)}});return this.each(function(a,c){var f=$('<ul class="tweet_list">').appendTo(c),g='<p class="tweet_intro">'+b.intro_text+"</p>",h='<p class="tweet_outro">'+b.outro_text+"</p>",i=$('<p class="loading">'+b.loading_text+"</p>");typeof b.username=="string"&&(b.username=[b.username]),b.loading_text&&$(c).append(i),$(c).bind("load",function(){$.getJSON(e(),function(a){b.loading_text&&i.remove(),b.intro_text&&f.before(g),f.empty();var e=a.results||a;$.each(e,function(a,c){if(b.join_text=="auto")if(c.text.match(/^(@([A-Za-z0-9-_]+)) .*/i))var e=b.auto_join_text_reply;else if(c.text.match(/(^\w+:\/\/[A-Za-z0-9-_]+\.[A-Za-z0-9-_:%&\?\/.=]+) .*/i))var e=b.auto_join_text_url;else if(c.text.match(/^((\w+ed)|just) .*/im))var e=b.auto_join_text_ed;else if(c.text.match(/^(\w*ing) .*/i))var e=b.auto_join_text_ing;else var e=b.auto_join_text_default;else var e=b.join_text;var g=c.from_user||c.user.screen_name,h="http://"+b.twitter_url+"/"+g,i=b.avatar_size,j=c.profile_image_url||c.user.profile_image_url,k="http://"+b.twitter_url+"/"+g+"/statuses/"+c.id_str,l=c.created_at,m=d(l),n=c.text,o=$([n]).linkUrl().linkUser().linkHash()[0],p=b.join_text?'<span class="tweet_join"> '+e+" </span>":" ",q=i?'<a class="tweet_avatar" href="'+h+'"><img src="'+j+'" height="'+i+'" width="'+i+'" alt="'+g+'\'s avatar" title="'+g+'\'s avatar" border="0"/></a>':"",r='<span class="tweet_time"><a href="'+k+'" title="view tweet on twitter">'+m+"</a></span>",t='<span class="tweet_text">'+$([o]).makeHeart().capAwesome().capEpic()[0]+"</span>";f.append("<li>"+b.template({from_user:g,user_url:h,avatar_size:i,avatar_url:j,tweet_url:k,tweet_time:l,tweet_relative_time:m,tweet_raw_text:n,tweet_text:o,join:p,avatar:q,time:r,text:t})+"</li>"),f.children("li:first").addClass("tweet_first"),f.children("li:odd").addClass("tweet_even"),f.children("li:even").addClass("tweet_odd")}),b.outro_text&&f.after(h),$(c).trigger("loaded").trigger(e.length==0?"empty":"full"),b.refresh_interval&&window.setTimeout(function(){$(c).trigger("load")},1e3*b.refresh_interval)})}).trigger("load")})}})(jQuery);
jQuery("#tweets").tweet({
	query: "FrontEndDay",
	count: 5,
	loading_text: "loading tweets...",
    template: function(info) {
        return "<a href='" + info.user_url + "'>@" + info.from_user + "</a>: " + info.text + "<div class='.details'>" + info.time + "</div>";
    }
});